



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="How to plan Azure Management Group hierarchy? Organize ubscriptions and resources in Azure.">
      
      
        <link rel="canonical" href="https://automate.guru/management-group-best-practises/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Resource organization best practises</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-160963982-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#azure-management-groups-hierarchy-best-practises-and-overview" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://automate.guru/" title="Automation Bible" aria-label="Automation Bible" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Automation Bible
            </span>
            <span class="md-header-nav__topic">
              
                Resource organization best practises
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://automate.guru/" title="Automation Bible" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Automation Bible
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../azure-devops-audit-logs-forwarding/" title="Azure DevOps Audit Logs Forwarder" class="md-nav__link">
      Azure DevOps Audit Logs Forwarder
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../azure-lighthouse-configuration/" title="Azure Lighthouse Configuration" class="md-nav__link">
      Azure Lighthouse Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../powershell-web-browser-automation/" title="Powershell Web-Based Automation" class="md-nav__link">
      Powershell Web-Based Automation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../copy-database-between-stages/" title="Copy Azure database between stages" class="md-nav__link">
      Copy Azure database between stages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../security-and-compliance-as-a-code-azure-policy-tdd/" title="Security And Compliance As A Code Azure Policy TDD" class="md-nav__link">
      Security And Compliance As A Code Azure Policy TDD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../multi-stage-yaml-pipeline-configuration/" title="Multi-Stage YAML Pipeline Configuration" class="md-nav__link">
      Multi-Stage YAML Pipeline Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../azure-policy-continous-integration/" title="Continous Inspection For Azure Policy" class="md-nav__link">
      Continous Inspection For Azure Policy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../automatic-certificate-generation-aks/" title="Automatic Certificate Generation for AKS" class="md-nav__link">
      Automatic Certificate Generation for AKS
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Azure Management Group Hierarchy Best Practises
      </label>
    
    <a href="./" title="Azure Management Group Hierarchy Best Practises" class="md-nav__link md-nav__link--active">
      Azure Management Group Hierarchy Best Practises
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-will-you-get-without-any-additional-costs" class="md-nav__link">
    What will you get without any additional costs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-it-a-must-or-rather-than-a-choice-why" class="md-nav__link">
    Is it a must or rather than a choice? Why?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-most-important-technical-details" class="md-nav__link">
    The most important technical details.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    Best practices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#author" class="md-nav__link">
    Author
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../universal-arm-deployment-script" title="Universal ARM Template Deployment Script" class="md-nav__link">
      Universal ARM Template Deployment Script
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ensure-policy-assignment-msi-permission-for-mg/" title="XXX" class="md-nav__link">
      XXX
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-will-you-get-without-any-additional-costs" class="md-nav__link">
    What will you get without any additional costs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-it-a-must-or-rather-than-a-choice-why" class="md-nav__link">
    Is it a must or rather than a choice? Why?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-most-important-technical-details" class="md-nav__link">
    The most important technical details.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    Best practices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#author" class="md-nav__link">
    Author
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="azure-management-groups-hierarchy-best-practises-and-overview">Azure Management Groups Hierarchy - Best Practises and Overview</h1>
<!-- ![Start using management groups](img/deploy-management-group-hierarchy-001.jpg) -->

<p>In an enterprise-scale, we deal with multiple projects, applications, environments, R&amp;D initiatives, proofs of concept. 
Therefore the <strong>number of workloads</strong> running on in the cloud is snowballing. 
A good approach is to divide workloads into separate subscriptions. Thanks to Management Groups <strong>assigning policies and permissions</strong> management across <strong>multiple Azure subscriptions</strong> are no longer painful. </p>
<p><img alt="Azure Management Group Hierarchy" src="../img/management-groups-best-practises-002.jpg" /></p>
<p>This article explains the concept, summarizes best practices, and shows how you can automate Management Group hierarchy deployment.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>After reading the 'why' section, you might realize that your scale doesn't require multiple subscriptions and management group hierarchy. It is a reasonable choice to follow 'keep it simple stupid' rule then. </p>
</div>
<h2 id="what-will-you-get-without-any-additional-costs">What will you get without any additional costs?</h2>
<ul>
<li>Centralized management</li>
<li>Subscriptions grouping</li>
<li>Apply <strong>policies</strong>, <strong>access control</strong>, and blueprints</li>
<li>Level of scope over resource groups and subscriptions </li>
<li><strong>Inheritance</strong> of governance artifacts</li>
<li>Compliance and cost reporting by organizations</li>
</ul>
<p><img alt="Azure Management Group Best Practises" src="../img/management-groups-best-practises-001.jpg" /></p>
<h2 id="is-it-a-must-or-rather-than-a-choice-why">Is it a must or rather than a choice? Why?</h2>
<ul>
<li>Subscription CRUD process won't stop, dozens or even hundreds of subscriptions can be managed without extra effort</li>
<li>The efficiency of governance is not possible at <strong>scale</strong> without MG</li>
<li>It is simpler to assign roles and apply policies to multiple subscriptions when they are grouped into MG</li>
<li>You cannot leave new subscription as it is, Azure Policy and role assignments should cover them</li>
<li>Avoid administration re-work and configuration drift</li>
</ul>
<h2 id="the-most-important-technical-details">The most important technical details.</h2>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Be careful with enforcing configuration at the Root level.  It allows global policies and RBAC assignments. Therefore if you deny something at this level, then it won't be possible to use it in the entire structure. Every item you want to apply here must be tested before applying.</p>
</div>
<ul>
<li>One management group hierarchy per tenant</li>
<li>The top-level group is Root, and it cannot be removed, its Id equals to Tenant Id</li>
<li>New subscriptions are created in Root MG </li>
<li>User Access Administrator can manage Root MG after elevation</li>
<li>One child to parent and one parent to multiple child relations </li>
<li>Hierarchy can be six levels of depth</li>
<li>Child subscriptions and groups inherit RBAC and policy</li>
<li>New subscriptions will be governed automatically</li>
<li>10,000 groups can be created</li>
</ul>
<h2 id="best-practices">Best practices</h2>
<p><img alt="Azure Management Group Role And Policy Assignment" src="../img/management-groups-best-practises-003.jpg" /></p>
<ul>
<li>Apply critical, non-negotiable controls ar the Root Management Group, for example, regulatory requirements.</li>
<li>Limit management group depth, use <strong>two, or three levels</strong> should be enough in most scenarios.</li>
<li>Do segmentation properly. <strong>Identify</strong> subscriptions that should <strong>share</strong> the RBAC model and Policies, avoid overlapping.</li>
<li>Create an additional segment for testing purposes. Test the impact on a lower number of subscriptions before applying changes to scale.</li>
</ul>
<h2 id="author">Author</h2>
<p><img alt="Kamil Wiecek" src="../img/kamil-wiecek-001.png" /></p>
<p><strong>Kamil Więcek</strong> is twentynine years old IT passionate that will continue to learn, do home projects and practicing new technologies even if he becomes a multimillionaire. 
Big fan of the following sentence: "if you describe a process mentioning someone's name, then it is not automated."</p>
                
                  
                
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://automate.guru/management-group-best-practises/";
      this.page.identifier =
        "management-group-best-practises/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//automate-guru.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../automatic-certificate-generation-aks/" title="Automatic Certificate Generation for AKS" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Automatic Certificate Generation for AKS
              </span>
            </div>
          </a>
        
        
          <a href="../ensure-policy-assignment-msi-permission-for-mg/" title="XXX" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                XXX
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
    
  </body>
</html>