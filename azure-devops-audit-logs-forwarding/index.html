



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://automate.guru/azure-devops-audit-logs-forwarding/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Audit Logs Forwarder - Automation Bible</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-160963982-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#forward-azure-devops-audit-logs-to-log-analytics-workspace" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://automate.guru/" title="Automation Bible" aria-label="Automation Bible" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Automation Bible
            </span>
            <span class="md-header-nav__topic">
              
                Audit Logs Forwarder
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://automate.guru/" title="Automation Bible" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Automation Bible
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
    
    <label class="md-nav__link" for="nav-1">
      Azure DevOps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Azure DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Audit Logs Forwarder
      </label>
    
    <a href="./" title="Audit Logs Forwarder" class="md-nav__link md-nav__link--active">
      Audit Logs Forwarder
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#is-log-analytics-workspace-clairvoyant" class="md-nav__link">
    Is Log Analytics Workspace clairvoyant?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-start-from-demo" class="md-nav__link">
    Let's start from demo.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-available-out-of-the-box" class="md-nav__link">
    What is available out of the box?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acronyms-and-abbreviations" class="md-nav__link">
    Acronyms and abbreviations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#who-are-you" class="md-nav__link">
    Who are you?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-infrastructure" class="md-nav__link">
    Prepare infrastructure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-overview-more-details" class="md-nav__link">
    Solution overview. More details.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-parameters" class="md-nav__link">
    Solution parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#powershell-runbook" class="md-nav__link">
    Powershell Runbook
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#its-time-to-rest-and-check-what-we-did" class="md-nav__link">
    It's time to rest and check what we did
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-development-insights" class="md-nav__link">
    Solution development insights
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visit-also" class="md-nav__link">
    Visit also
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#author" class="md-nav__link">
    Author
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multi-stage-yaml-pipeline-configuration/" title="Multi-Stage YAML Pipeline Configuration" class="md-nav__link">
      Multi-Stage YAML Pipeline Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../universal-arm-deployment-script" title="Universal ARM Template Deployment Script" class="md-nav__link">
      Universal ARM Template Deployment Script
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../azure-lighthouse-configuration/" title="Azure Lighthouse Configuration" class="md-nav__link">
      Azure Lighthouse Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      PowerShell
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        PowerShell
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../powershell-web-browser-automation/" title="Web-Based Automation With Selenium" class="md-nav__link">
      Web-Based Automation With Selenium
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../copy-database-between-stages/" title="Copy Azure database between stages" class="md-nav__link">
      Copy Azure database between stages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../automatic-certificate-generation-aks/" title="Automatic Certificate Generation for AKS" class="md-nav__link">
      Automatic Certificate Generation for AKS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Azure Management Group
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Azure Management Group
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../management-group-best-practises/" title="Hierarchy Best Practises" class="md-nav__link">
      Hierarchy Best Practises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-management-group-hierarchy" title="Deploy As a Code" class="md-nav__link">
      Deploy As a Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Azure Policy/ Compliance
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Azure Policy/ Compliance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../fix-msi-role-assignment/" title="Fix MSI Role Assignment" class="md-nav__link">
      Fix MSI Role Assignment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security-and-compliance-as-a-code-azure-policy-tdd/" title="Security And Compliance As A Code - TDD" class="md-nav__link">
      Security And Compliance As A Code - TDD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../azure-policy-continous-integration/" title="Continous Inspection For Azure Policy" class="md-nav__link">
      Continous Inspection For Azure Policy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#is-log-analytics-workspace-clairvoyant" class="md-nav__link">
    Is Log Analytics Workspace clairvoyant?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-start-from-demo" class="md-nav__link">
    Let's start from demo.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-available-out-of-the-box" class="md-nav__link">
    What is available out of the box?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acronyms-and-abbreviations" class="md-nav__link">
    Acronyms and abbreviations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#who-are-you" class="md-nav__link">
    Who are you?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-infrastructure" class="md-nav__link">
    Prepare infrastructure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-overview-more-details" class="md-nav__link">
    Solution overview. More details.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-parameters" class="md-nav__link">
    Solution parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#powershell-runbook" class="md-nav__link">
    Powershell Runbook
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#its-time-to-rest-and-check-what-we-did" class="md-nav__link">
    It's time to rest and check what we did
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-development-insights" class="md-nav__link">
    Solution development insights
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visit-also" class="md-nav__link">
    Visit also
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#author" class="md-nav__link">
    Author
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="forward-azure-devops-audit-logs-to-log-analytics-workspace">Forward Azure DevOps Audit Logs to Log Analytics Workspace</h1>
<div class="admonition danger">
<p class="admonition-title">Partially deprecated</p>
<p>Update! </p>
<p>At the moment of writing, this functionality was not provided, but now it is in public preview. We always recommend using built-in, supported features. </p>
<p><img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-011.jpg" /></p>
<p>You will find more details <a href="https://devblogs.microsoft.com/devops/auditing-for-azure-devops-is-now-in-public-preview/">here</a></p>
</div>
<div class="admonition question">
<p class="admonition-title">Why is this article not removed? </p>
<p>There is a part of the script you can use to query Audit Logs via API and stream custom logs to Log Analytics.</p>
</div>
<h2 id="is-log-analytics-workspace-clairvoyant">Is Log Analytics Workspace clairvoyant?</h2>
<p>No it isn't! Therefore, we developed an automated solution that is continuously streaming audit logs from Azure DevOps to Log Analytics Workspace.</p>
<p><img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-004.jpg" /></p>
<h2 id="lets-start-from-demo">Let's start from demo.</h2>
<p><img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-001.jpg" /></p>
<ol>
<li>
<p>Modify the branch policy and start to be suspicious.
<img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-008.jpg" /></p>
</li>
<li>
<p>Invoke synchronization manually or wait.
<img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-009.jpg" /></p>
</li>
<li>
<p>Check the results.
<img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-010.jpg" /></p>
</li>
</ol>
<h2 id="what-is-available-out-of-the-box">What is available out of the box?</h2>
<!-- ![Stream audit logs from Azure DevOps to Log Analytics Workspace](img/azure-devops-audit-logs-forwarding-005.jpg) -->

<ul>
<li>Browsing logs through web portal.</li>
<li>Exporting them to JSON/ CSV</li>
<li>Analyze them using Excel/ custom tools.</li>
</ul>
<p>More general information about Azure DevOps Auditing is available in the link below. It's not our purpose to paraphrase MS documentation. 
Please read the following part of their documentation to get more details about ADO auditing in general.</p>
<p><a href="https://docs.microsoft.com/en-us/azure/devops/organizations/settings/azure-devops-auditing?view=azure-devops&amp;tabs=preview-page">You can find more details here!</a></p>
<h2 id="acronyms-and-abbreviations">Acronyms and abbreviations</h2>
<ul>
<li><strong>ADO</strong> - Azure DevOps</li>
<li><strong>ORG</strong> - Azure DevOps Organization</li>
<li>
<p><strong>PAT</strong> - Personal Access Token from ADO</p>
</li>
<li>
<p><strong>AAA</strong> - Azure Automation Account</p>
</li>
<li>
<p><strong>ARA</strong> - Azure Run As Account</p>
</li>
<li>
<p><strong>AKV</strong> - Azure Key Vault</p>
</li>
<li>
<p><strong>LAW</strong> - Azure Log Analytics Workspace</p>
</li>
</ul>
<h2 id="who-are-you">Who are you?</h2>
<p>We assume that...</p>
<div class="codehilite"><pre><span></span><code>PS C:\&gt; $You.SessionLevelReadiness -GE 200
True
</code></pre></div>

<p>... so we're not providing detailed, step by step instructions on how to create every single resource required to deploy this solution.
We believe that you can deploy and configure them without additional instructions, or you're able to find them on your own.</p>
<h2 id="prepare-infrastructure">Prepare infrastructure</h2>
<p>Here are required resources and it's the configuration required to deploy the described solution:</p>
<ul>
<li>Organization in Azure DevOps with enabled auditing.</li>
<li>Personal Access Token with <em>read audit log events, manage and delete streams</em> scope.</li>
<li>Azure Automation Account with <em>Azure Run As Account</em>. </li>
<li>AAA string variables named KeyVaultName, WorkspaceId, OrganizationName</li>
<li>AAA string variable named LastAzureDevOpsSyncDate with round-trip date/time pattern value (for example <em>2020-01-01T00:00:00.0000001Z</em>)</li>
<li>Azure Key Vault</li>
<li>AKV <em>Get and list secret</em> access policy for ARA.</li>
<li><em>AzureDevOpsPersonalAccessToken</em> secret in AKV containing PAT value.</li>
<li>Azure Log Analytics Workspace.</li>
<li><em>Shared key read</em> permissions for ARA.</li>
<li>Azure Automation Powershell <strong>SynchronizeAzureDevOpsAuditLogs</strong> Runbook (<a href="https://github.com/automationgurus/automationgurus.github.io/blob/master/src/code/SynchronizeAzureDevOpsAuditLogsRunbook.ps1">get it here</a>)</li>
</ul>
<h2 id="solution-overview-more-details">Solution overview. More details.</h2>
<ol>
<li>Every single hour Azure Automation Runbook (AAC) is invoked by schedule.</li>
<li>Set context. All actions are performed in the context of <em>Azure Run As Account</em>. This account was created during Automation Account creation.</li>
<li>Get parameters (read details above).</li>
<li>Get all ADO audit logs entries between <em>LastAzureDevOpsSyncDate</em> and current date and time.</li>
<li>Upload event to Log Analytics Workspace via REST API call.</li>
<li>Update <em>LastAzureDevOpsSyncDate</em>.</li>
</ol>
<h2 id="solution-parameters">Solution parameters</h2>
<table>
<thead>
<tr>
<th>Script Parameter</th>
<th>Source/ Where you should set it</th>
</tr>
</thead>
<tbody>
<tr>
<td>$KeyVaultName</td>
<td>KeyVaultName variable from Automation Account</td>
</tr>
<tr>
<td>$StartTime</td>
<td>LastAzureDevOpsSyncDate variable from Automation Account</td>
</tr>
<tr>
<td>$OrganizationName</td>
<td>OrganizationName variable from Automation Account</td>
</tr>
<tr>
<td>$CustomerId</td>
<td>WorkspaceId variable from Automation Account</td>
</tr>
<tr>
<td>$PersonAccessToken</td>
<td>AzureDevOpsPersonalAccessToken secret from  Azure KeyVault</td>
</tr>
<tr>
<td>$SharedKey</td>
<td>SharedKey property from Log Analytics Workspace (Id = $CustomerId)</td>
</tr>
</tbody>
</table>
<h2 id="powershell-runbook">Powershell Runbook</h2>
<p><a href="https://github.com/automationgurus/automationgurus.github.io/blob/master/src/code/SynchronizeAzureDevOpsAuditLogsRunbook.ps1">Get SynchronizeAzureDevOpsAuditLogsRunbook Source Code</a></p>
<p>We use <em>Build-Signature</em> and <em>Post-LogAnalyticsData</em> from 
<a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/data-collector-api">MS DOCS: Data collector api</a>
. In this example, they use $TimeStampField variable that is global. It isn't good practice to use in function variables defined out of function scope. We replaced that.</p>
<div class="codehilite"><pre><span></span><code><span class="k">Function</span> <span class="n">Build-Signature</span> <span class="p">(</span><span class="nv">$customerId</span><span class="p">,</span> <span class="nv">$sharedKey</span><span class="p">,</span> <span class="nv">$date</span><span class="p">,</span> <span class="nv">$contentLength</span><span class="p">,</span> <span class="nv">$method</span><span class="p">,</span> <span class="nv">$contentType</span><span class="p">,</span> <span class="nv">$resource</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$xHeaders</span> <span class="p">=</span> <span class="s2">&quot;x-ms-date:&quot;</span> <span class="p">+</span> <span class="nv">$date</span>
    <span class="nv">$stringToHash</span> <span class="p">=</span> <span class="nv">$method</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="se">`n</span><span class="s2">&quot;</span> <span class="p">+</span> <span class="nv">$contentLength</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="se">`n</span><span class="s2">&quot;</span> <span class="p">+</span> <span class="nv">$contentType</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="se">`n</span><span class="s2">&quot;</span> <span class="p">+</span> <span class="nv">$xHeaders</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="se">`n</span><span class="s2">&quot;</span> <span class="p">+</span> <span class="nv">$resource</span>

    <span class="nv">$bytesToHash</span> <span class="p">=</span> <span class="no">[Text.Encoding]</span><span class="p">::</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="nv">$stringToHash</span><span class="p">)</span>
    <span class="nv">$keyBytes</span> <span class="p">=</span> <span class="no">[Convert]</span><span class="p">::</span><span class="n">FromBase64String</span><span class="p">(</span><span class="nv">$sharedKey</span><span class="p">)</span>

    <span class="nv">$sha256</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Cryptography</span><span class="p">.</span><span class="n">HMACSHA256</span>
    <span class="nv">$sha256</span><span class="p">.</span><span class="n">Key</span> <span class="p">=</span> <span class="nv">$keyBytes</span>
    <span class="nv">$calculatedHash</span> <span class="p">=</span> <span class="nv">$sha256</span><span class="p">.</span><span class="n">ComputeHash</span><span class="p">(</span><span class="nv">$bytesToHash</span><span class="p">)</span>
    <span class="nv">$encodedHash</span> <span class="p">=</span> <span class="no">[Convert]</span><span class="p">::</span><span class="n">ToBase64String</span><span class="p">(</span><span class="nv">$calculatedHash</span><span class="p">)</span>
    <span class="nv">$authorization</span> <span class="p">=</span> <span class="s1">&#39;SharedKey {0}:{1}&#39;</span> <span class="o">-f</span> <span class="nv">$customerId</span><span class="p">,</span><span class="nv">$encodedHash</span>
    <span class="k">return</span> <span class="nv">$authorization</span>
<span class="p">}</span>

<span class="k">Function</span> <span class="n">Post-LogAnalyticsData</span><span class="p">(</span><span class="nv">$ustomerId</span><span class="p">,</span> <span class="nv">$sharedKey</span><span class="p">,</span> <span class="nv">$body</span><span class="p">,</span> <span class="nv">$logType</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$method</span> <span class="p">=</span> <span class="s2">&quot;POST&quot;</span>
    <span class="nv">$contentType</span> <span class="p">=</span> <span class="s2">&quot;application/json&quot;</span>
    <span class="nv">$resource</span> <span class="p">=</span> <span class="s2">&quot;/api/logs&quot;</span>
    <span class="nv">$rfc1123date</span> <span class="p">=</span> <span class="no">[DateTime]</span><span class="p">::</span><span class="n">UtcNow</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
    <span class="nv">$contentLength</span> <span class="p">=</span> <span class="nv">$body</span><span class="p">.</span><span class="n">Length</span>
    <span class="nv">$signature</span> <span class="p">=</span> <span class="n">Build-Signature</span> <span class="p">`</span>
        <span class="n">-customerId</span> <span class="nv">$customerId</span> <span class="p">`</span>
        <span class="n">-sharedKey</span> <span class="nv">$sharedKey</span> <span class="p">`</span>
        <span class="n">-date</span> <span class="nv">$rfc1123date</span> <span class="p">`</span>
        <span class="n">-contentLength</span> <span class="nv">$contentLength</span> <span class="p">`</span>
        <span class="n">-method</span> <span class="nv">$method</span> <span class="p">`</span>
        <span class="n">-contentType</span> <span class="nv">$contentType</span> <span class="p">`</span>
        <span class="n">-resource</span> <span class="nv">$resource</span>
    <span class="nv">$uri</span> <span class="p">=</span> <span class="s2">&quot;https://&quot;</span> <span class="p">+</span> <span class="nv">$customerId</span> <span class="p">+</span> <span class="s2">&quot;.ods.opinsights.azure.com&quot;</span> <span class="p">+</span> <span class="nv">$resource</span> <span class="p">+</span> <span class="s2">&quot;?api-version=2016-04-01&quot;</span>

    <span class="nv">$headers</span> <span class="p">=</span> <span class="p">@{</span>
        <span class="s2">&quot;Authorization&quot;</span> <span class="p">=</span> <span class="nv">$signature</span><span class="p">;</span>
        <span class="s2">&quot;Log-Type&quot;</span> <span class="p">=</span> <span class="nv">$logType</span><span class="p">;</span>
        <span class="s2">&quot;x-ms-date&quot;</span> <span class="p">=</span> <span class="nv">$rfc1123date</span><span class="p">;</span>
        <span class="s2">&quot;time-generated-field&quot;</span> <span class="p">=</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nv">$response</span> <span class="p">=</span> <span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="nv">$uri</span> <span class="n">-Method</span> <span class="nv">$method</span> <span class="n">-ContentType</span> <span class="nv">$contentType</span> <span class="n">-Headers</span> <span class="nv">$headers</span> <span class="n">-Body</span> <span class="nv">$body</span> <span class="n">-UseBasicParsing</span>
    <span class="k">return</span> <span class="nv">$response</span><span class="p">.</span><span class="n">StatusCode</span>

<span class="p">}</span>

<span class="nv">$LogType</span> <span class="p">=</span> <span class="s2">&quot;AzureDevOps&quot;</span>

<span class="nv">$Conn</span> <span class="p">=</span> <span class="nb">Get-AutomationConnection</span> <span class="n">-Name</span> <span class="n">AzureRunAsConnection</span>
<span class="nb">Connect-AzAccount</span> <span class="n">-ServicePrincipal</span> <span class="n">-Tenant</span> <span class="nv">$Conn</span><span class="p">.</span><span class="n">TenantID</span> <span class="n">-ApplicationId</span> <span class="nv">$Conn</span><span class="p">.</span><span class="n">ApplicationID</span> <span class="n">-CertificateThumbprint</span> <span class="nv">$Conn</span><span class="p">.</span><span class="n">CertificateThumbprint</span> <span class="p">|</span> <span class="nb">Out-Null</span>
<span class="nb">Select-AzSubscription</span> <span class="n">-SubscriptionId</span> <span class="nv">$Conn</span><span class="p">.</span><span class="n">SubscriptionID</span> <span class="p">|</span> <span class="nb">Out-Null</span>

<span class="nv">$KeyVaultName</span> <span class="p">=</span>  <span class="nb">Get-AutomationVariable</span> <span class="n">-Name</span> <span class="n">KeyVaultName</span>
<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s1">&#39;Get keyvault name from automation account variables - success&#39;</span>

<span class="nv">$OrganizationName</span> <span class="p">=</span> <span class="nb">Get-AutomationVariable</span> <span class="n">-Name</span> <span class="n">OrganizationName</span>
<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s1">&#39;Get Azure DevOps organization name from automation account variables - success&#39;</span>

<span class="nv">$CustomerId</span> <span class="p">=</span> <span class="nb">Get-AutomationVariable</span> <span class="n">-Name</span> <span class="n">WorkspaceId</span>
<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s1">&#39;Get Log Analytics Workspace Id from automation account variables - success&#39;</span>

<span class="nv">$LogAnalyticsWorkspace</span> <span class="p">=</span> <span class="nb">Get-AzOperationalInsightsWorkspace</span> <span class="p">|</span> <span class="nb">Where-Object</span> <span class="n">-Property</span> <span class="n">CustomerId</span> <span class="o">-EQ</span> <span class="nv">$CustomerId</span>
<span class="nv">$SharedKey</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-AzOperationalInsightsWorkspaceSharedKey</span> <span class="n">-ResourceGroupName</span> <span class="nv">$logAnalyticsWorkspace</span><span class="p">.</span><span class="n">ResourceGroupName</span> <span class="n">-Name</span> <span class="nv">$logAnalyticsWorkspace</span><span class="p">.</span><span class="n">Name</span><span class="p">).</span><span class="n">PrimarySharedKey</span>
<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s2">&quot;Get shared key directly from &#39;</span><span class="p">$(</span> <span class="nv">$logAnalyticsWorkspace</span><span class="p">.</span><span class="n">Name</span> <span class="p">)</span><span class="s2">  - success&quot;</span>

<span class="nv">$PersonAccessToken</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-AzKeyVaultSecret</span> <span class="n">-VaultName</span> <span class="nv">$KeyVaultName</span>  <span class="n">-Name</span> <span class="s1">&#39;AzureDevOpsPersonalAccessToken&#39;</span><span class="p">).</span><span class="n">SecretValueText</span> 
<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s2">&quot;Get Personal Access Token from key vault &#39;</span><span class="p">$(</span> <span class="nv">$KeyVaultName</span>  <span class="p">)</span><span class="s2">&#39; - success&quot;</span>

<span class="nv">$StartTime</span> <span class="p">=</span> <span class="nb">Get-AutomationVariable</span> <span class="n">-Name</span> <span class="n">LastAzureDevOpsSyncDate</span>
<span class="nv">$StartTime</span> <span class="p">=</span> <span class="nv">$StartTime</span><span class="p">.</span><span class="n">ToUniversalTime</span><span class="p">().</span><span class="n">GetDateTimeFormats</span><span class="p">(</span><span class="s2">&quot;o&quot;</span><span class="p">)</span>

<span class="no">[string]</span><span class="nv">$EndTimeQuery</span> <span class="p">=</span> <span class="no">[DateTime]</span><span class="p">::</span><span class="n">Now</span><span class="p">.</span><span class="n">ToUniversalTime</span><span class="p">().</span><span class="n">GetDateTimeFormats</span><span class="p">(</span><span class="s2">&quot;o&quot;</span><span class="p">)</span>

<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s2">&quot;Script will look for audi events created between </span><span class="p">$(</span> <span class="nv">$StartTime</span> <span class="p">)</span><span class="s2"> and </span><span class="p">$(</span> <span class="nv">$endTimeQuery</span> <span class="p">)</span><span class="s2">&quot;</span>

<span class="nv">$Base64AuthInfo</span> <span class="p">=</span> <span class="no">[Convert]</span><span class="p">::</span><span class="n">ToBase64String</span><span class="p">(</span><span class="no">[Text.Encoding]</span><span class="p">::</span><span class="n">ASCII</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">((</span><span class="s2">&quot;{0}:{1}&quot;</span> <span class="o">-f</span> <span class="s1">&#39;basic&#39;</span><span class="p">,</span><span class="nv">$PersonAccessToken</span><span class="p">)))</span>

<span class="nv">$Headers</span> <span class="p">=</span> <span class="p">@{</span>
    <span class="n">Authorization</span> <span class="p">=</span> <span class="s2">&quot;Basic $Base64AuthInfo&quot;</span>
<span class="p">}</span>

<span class="no">[array]</span><span class="nv">$ApiOutputs</span> <span class="p">=</span> <span class="p">@()</span>
<span class="no">[string]</span><span class="nv">$ContinuationToken</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="nv">$EndpointUri</span> <span class="p">=</span> <span class="s2">&quot;https://auditservice.dev.azure.com/</span><span class="p">$(</span> <span class="nv">$OrganizationName</span> <span class="p">)</span><span class="s2">/_apis/audit/auditlog?api-version=5.1-preview.1&quot;</span>
    <span class="nv">$EndpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;batchSize=200&quot;</span>
    <span class="nv">$EndpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;skipAggregation=true&quot;</span>
    <span class="nv">$EndpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;startTime=</span><span class="p">$(</span> <span class="nv">$StartTime</span> <span class="p">)</span><span class="s2">&quot;</span>
    <span class="nv">$EndpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;endTime=</span><span class="p">$(</span> <span class="nv">$endTimeQuery</span> <span class="p">)</span><span class="s2">&quot;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$ContinuationToken</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$EndpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;continuationToken=</span><span class="p">$(</span> <span class="nv">$continuationToken</span> <span class="p">)</span><span class="s2">&quot;</span>
    <span class="p">}</span>

    <span class="nv">$ApiOutput</span> <span class="p">=</span> <span class="nb">Invoke-RestMethod</span> <span class="n">-Uri</span> <span class="nv">$endpointUri</span> <span class="n">-Headers</span> <span class="nv">$headers</span>  <span class="n">-Method</span> <span class="n">Get</span> 
    <span class="nv">$ContinuationToken</span> <span class="p">=</span> <span class="nv">$ApiOutput</span><span class="p">.</span><span class="n">continuationToken</span> <span class="c">#tu</span>

    <span class="nv">$ApiOutputs</span> <span class="p">+=</span> <span class="nv">$ApiOutput</span>

<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nv">$ApiOutput</span><span class="p">.</span><span class="n">hasMore</span><span class="p">)</span>

<span class="no">[array]</span><span class="nv">$DecoratedAuditLogEntries</span> <span class="p">=</span> <span class="nv">$ApiOutputs</span><span class="p">.</span><span class="n">decoratedAuditLogEntries</span> 

<span class="k">if</span><span class="p">(</span><span class="o">-not</span> <span class="nv">$DecoratedAuditLogEntries</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s1">&#39;There are no new audit logs.&#39;</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s2">&quot;Found </span><span class="p">$(</span> <span class="nv">$DecoratedAuditLogEntries</span><span class="p">.</span><span class="n">Count</span> <span class="p">)</span><span class="s2"> new audit entries&quot;</span>


<span class="k">foreach</span> <span class="p">(</span><span class="nv">$item</span> <span class="k">in</span> <span class="nv">$DecoratedAuditLogEntries</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$item</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="nv">$item</span><span class="p">.</span><span class="n">data</span> <span class="p">|</span> <span class="nb">ConvertTo-Json</span> <span class="n">-Compress</span> <span class="n">-Depth</span> <span class="n">100</span>
<span class="p">}</span>

<span class="nv">$RecordsJson</span> <span class="p">=</span> <span class="nv">$DecoratedAuditLogEntries</span> <span class="p">|</span> <span class="p">`</span>
    <span class="nb">Select-Object</span> <span class="n">-ExcludeProperty</span> <span class="n">actorImageUrl</span> <span class="p">|</span> <span class="p">`</span>
    <span class="nb">ConvertTo-Json</span> 


<span class="nv">$StatusCode</span> <span class="p">=</span> <span class="n">Post-LogAnalyticsData</span> <span class="n">-customerId</span> <span class="nv">$CustomerId</span> <span class="n">-sharedKey</span> <span class="nv">$SharedKey</span> <span class="n">-body</span> <span class="p">(</span><span class="no">[System.Text.Encoding]</span><span class="p">::</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="nv">$recordsJson</span><span class="p">))</span> <span class="n">-logType</span> <span class="nv">$LogType</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$StatusCode</span> <span class="o">-eq</span> <span class="n">200</span><span class="p">){</span>
    <span class="nb">Set-AutomationVariable</span> <span class="n">-Name</span> <span class="n">LastAzureDevOpsSyncDate</span> <span class="n">-Value</span> <span class="nv">$endTimeQuery</span>
    <span class="nb">Write-Output</span> <span class="n">-InputObject</span> <span class="s1">&#39;Azure DevOps audi logs forwarding completed successfully&#39;</span>
<span class="p">}</span>
</code></pre></div>

<!-- You can find the script we use here

Some more description about actions inside the script

Get variables from Azure Automation:

<div class="codehilite"><pre><span></span><code><span class="nv">$OrganizationName</span> <span class="p">=</span> <span class="nb">Get-AutomationVariable</span> <span class="n">-Name</span> <span class="n">OrganizationName</span>
</code></pre></div>

Get LAW SharedKey (it's required to invoke API calls)

<div class="codehilite"><pre><span></span><code><span class="nv">$SharedKey</span> <span class="p">=</span> <span class="nb">Get-AzOperationalInsightsWorkspaceSharedKey</span> <span class="n">-ResourceGroupName</span> <span class="nv">$logAnalyticsWorkspace</span><span class="p">.</span><span class="n">ResourceGroupName</span> <span class="n">-Name</span> <span class="nv">$logAnalyticsWorkspace</span><span class="p">.</span><span class="n">Name</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="nv">$endpointUri</span> <span class="p">=</span> <span class="s2">&quot;https://auditservice.dev.azure.com/</span><span class="p">$(</span> <span class="nv">$OrganizationName</span> <span class="p">)</span><span class="s2">/&quot;</span> <span class="p">+</span> 
        <span class="s2">&quot;_apis/audit/auditlog?api-version=5.1-preview.1&quot;</span> <span class="c"># + &quot;&amp;skipAggregation=$( $skipAggregation )&quot;</span>
<span class="nv">$endpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;batchSize=200&quot;</span>
<span class="nv">$endpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;skipAggregation=true&quot;</span>
<span class="nv">$endpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;startTime=</span><span class="p">$(</span> <span class="nv">$StartTime</span> <span class="p">)</span><span class="s2">&quot;</span>
<span class="nv">$endpointUri</span> <span class="p">+=</span> <span class="s2">&quot;&amp;endTime=</span><span class="p">$(</span> <span class="nv">$endTime</span> <span class="p">)</span><span class="s2">&quot;</span>
</code></pre></div>


### -->

<h2 id="its-time-to-rest-and-check-what-we-did">It's time to rest and check what we did</h2>
<p><img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-000.jpg" /></p>
<ol>
<li>
<p>You've just discovered new extension installed.
<img alt="Stream audit logs from Azure DevOps to Log Analytics Workspace" src="../img/azure-devops-audit-logs-forwarding-007.jpg" /></p>
</li>
<li>
<p>You wonder who and when did install this AzSK Extension, so you ask Log Analytics.
<div class="codehilite"><pre><span></span><code>AzureDevOps_CL 
| sort by TimeGenerated desc nulls last 
| where actionId_s == &quot;Extension.Installed&quot; 
| project  TimeGenerated, actionId_s, scopeDisplayName_s , details_s, actorDisplayName_s 
</code></pre></div>
|TimeGenerated| actionId_s|     scopeDisplayName_s|     details_s|      actorDisplayName_s|
|-|-|-|-|-|
|2020-03-15T16:47:19.367Z|      Extension.Installed|    AutomationGuyIO (Organization)| Extension "Secure DevOps Kit (AzSK) CICD Extensions for Azure" from publisher "Microsoft DevLabs" was installed - Version "3.1.7"|      Automation Guru</p>
</li>
</ol>
<h2 id="solution-development-insights">Solution development insights</h2>
<ul>
<li>ARA becomes a Contributor by default. Consider changing that.</li>
<li>Storing LAW SharedKey in AKV is one of the options, but it'll force you to update it on change. We decided to get it directly during the script execution. </li>
<li>We could use AAA encrypted value to store PAT, but in case of storing secrets, AKV should always be the primary choice. Other parameters we don't consider as secrets, so we store them in AAA variables.</li>
<li>Enabling <em>Allow trusted Microsoft services to bypass this firewall</em> in AKW Networking configuration didn't allow access from AAA. Therefore we set this setting to <em>Allow access from all networks</em>.</li>
</ul>
<h2 id="visit-also">Visit also</h2>
<ol>
<li>
<p><a href="https://dombat.co.uk/azure-devops-auditing/">Dominic Batstone's Blog: Export ADO Audit Logs and query them with LogParser </a></p>
</li>
<li>
<p><a href="https://mohitgoyal.co/2019/07/24/working-with-audit-logs-in-azure-devops/">mohitgoyal.co: Working with Audit logs in Azure DevOps</a></p>
</li>
</ol>
<h2 id="author">Author</h2>
<p><img alt="Kamil Wiecek" src="../img/kamil-wiecek-001.png" /></p>
<p><strong>Kamil Więcek</strong> is twentynine years old IT passionate that will continue to learn, do home projects and practicing new technologies even if he becomes a multimillionaire. 
Big fan of the following sentence: "if you describe a process mentioning someone's name, then it is not automated."</p>
                
                  
                
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://automate.guru/azure-devops-audit-logs-forwarding/";
      this.page.identifier =
        "azure-devops-audit-logs-forwarding/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//automate-guru.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="../multi-stage-yaml-pipeline-configuration/" title="Multi-Stage YAML Pipeline Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Multi-Stage YAML Pipeline Configuration
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  </body>
</html>